<div class="view-task">
  <div class="head-view">
    <h2>Total de tarefas: {{ totalItems }}</h2>
  </div>
  <div class="div-filters">
    <mat-form-field class="form-field">
      <mat-label>Status</mat-label>
      <mat-select [formControl]="taskStatus" (selectionChange)="filterByStatus($event)" multiple>
        @for (status of taskStatusList; track status) {
          <mat-option [value]="status">{{status}}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    <mat-form-field class="form-field">
      <mat-label>Ordem por data de fim</mat-label>
      <mat-select [(value)]="sortDirection" (selectionChange)="filterByStatus(filterStatus)">
        <mat-option value="asc">Ascendente</mat-option>
        <mat-option value="desc">Descendente</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <h2>{{ errorMessage }}</h2>
  </div>
  <div class="task-list">
    <div class="div-card" *ngFor="let task of data">
      <app-info-card [task]="task" (deleteTask)="openConfirmDialog($event)"></app-info-card>
    </div>
  </div>
</div>
<app-page-loading *ngIf="onLoad"></app-page-loading>